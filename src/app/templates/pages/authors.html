<custom-header *ngIf="apiResponsePrototype" [title]="apiResponsePrototype.name"></custom-header>
<ion-content fullscreen>
    <ion-list lines="none">
        <custom-list-element *ngFor="let author of authorPrototype">
            <div id="authorCardHeader">
                <ion-grid no-padding>
                    <ion-row justify-content-between>
                        <ion-col no-padding no-margin  size="auto">
                            <h1 no-padding no-margin><strong>{{ author.name }}</strong></h1>
                        </ion-col>
                        <ion-col no-padding no-margin size="auto" align-self-end>
                            <span class="badges-item" *ngFor="let termIndex of getTermIndexesForEachAuthor(author)">
                                <ion-badge color="light">
                                    {{ termIndex.term + ': ' + termIndex.highlights.length }}
                                </ion-badge>
                                &nbsp;
                            </span>
                        </ion-col>
                    </ion-row>
                </ion-grid>
                <hr color="tertiary">
            </div>
            <div id="authorDetails">
                <h3>Author's details</h3>
                <hr color="dark">
                <ion-grid>
                    <ion-row *ngIf="author.latestCountry">
                        <ion-col><strong>{{ author.latestCountry }}</strong> based.</ion-col>
                    </ion-row>
                    <ion-row *ngIf="author.latestInstitution">
                        <ion-col> From <strong>{{ author.latestInstitution }}</strong></ion-col>
                    </ion-row>
                    <ion-row *ngIf="author.npapers">
                        <ion-col><strong>{{ author.npapers }}</strong> total publications.</ion-col>
                    </ion-row>
                    <ion-row *ngIf="author.lastAuthorCount">
                        <ion-col><strong>{{ author.lastAuthorCount }}</strong> times as last author</ion-col>
                    </ion-row>
                    <ion-row *ngIf="author.firstAuthorCount">
                        <ion-col><strong>{{ author.firstAuthorCount }}</strong> times as first author</ion-col>
                    </ion-row>
                </ion-grid>
            </div>

            <div id="papers">
                <h3>Publications </h3>
                <hr color="medium">
                <div *ngFor="let paper of getPapersForEachAuthor(author)">
                    <ion-item *ngIf="paper" (click)="openPublication(paper.link)">
                        <h5 class="link">{{ paper.title }}</h5>
                    </ion-item>
                </div>
            </div>
        </custom-list-element>
    </ion-list>
</ion-content>